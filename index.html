<!DOCTYPE HTML>
<html>
	<head>
		<title>Dynamake's project page</title>
		<script src="jquery-2.1.1.min.js"></script>
		<style>
			body {
				font-family: "Palatino Linotype", "Book Antiqua", Palatino, serif;
				width: 95%;
				max-width: 1024px;    
				margin-left: auto;
				margin-right: auto;
			}
			
			a		  {font-style:oblique; font-weight:bolder;}
			a:link    {color:#0F6E43;}
			a:visited {color:#0F6E43;}
			a:hover   {color:#1A6E37;}
			a:active  {color:#A61E5B;}
			
			.box {
				border:3px solid #333;
				border-radius: 10px;
				padding: 10px;
				margin: 20px;
				background-color: #C8E3D7;
			}
			
			h1 { 
				align: center;
			}
		</style>
		<script>
			function getAsMap(mapping) {
				var map = {};
				mapping.each(function(i, o) {
					map[o.key] = o.value;
				});
				return map;
			}
			
			function expand(holder, link, definitions, term, addBorder) {
				// Get copy of definition
				var definition = definitions[term].clone();
				//alert(definitions[term]);
				replaceMentions(definition, definitions);
				var definitionEl = link.clone();
						
				definitionEl.mousedown(function() {
					definitionEl.css("color", "#0F6E43");
				});
				definitionEl.click(function() {
					collapse(holder, link, definitions, term);
				
					return false;
				});
				
				var newEl;
					
				if(addBorder) {
					// Change color of link to indicate expanded state
					definitionEl.css("color", "#A61E5B");
						
					definition = definition.wrap("<div></div>").parent();
					definition
						.css("border", "3px solid #333")
						.css("border-radius", "10px")
						.css("margin", "4px")
						.css("padding", "4px")
						.css("background-color", "#C8E3D7");
				
					newEl = $(document.createElement("span"))
						.append(definitionEl)
						.append(definition);
				} else {
					newEl = $(document.createElement("span"))
					.append(definitionEl)
					.append(definition);
					
					newEl = newEl.wrap("<div></div>").parent();
				}
				
				holder.contents().replaceWith(newEl);
			}
			
			function collapse(holder, link, definitions, term) {
				var definitionEl = link.clone();
				definitionEl.click(function() {
					expand(holder, link, definitions, term, true);
				
					return false;
				});
				holder.contents().replaceWith(definitionEl);
			}
			
			function replaceMentions(el, definitions) {
				el.find("span[data-mention]").replaceWith(function() {
					var term = $(this).attr("data-mention");
					var contents = $(this).clone();
					
					var link = contents
						.wrap("<span><a href='dummy'></a></span>")
						.parent()
						.css("text-decoration", "none");
					
					var holder = link.parent();
					link.click(function() {
						expand(holder, link, definitions, term, true);
					
						return false;
					});
					
					return holder;
				});
				
				el.find("span[data-mention-expand]").replaceWith(function() {
					var term = $(this).attr("data-mention-expand");
					var contents = $(this).clone();
					
					var link = contents.wrap("<span><a href='dummy'></a></span>").parent();
					
					var holder = link.parent();
					expand(holder, link, definitions, term, false);
					
					return holder;
				});
			}
			
			$( document ).ready(function() {
				var definitionsQ = $("div[data-define]");
				
				var definitions = getAsMap(definitionsQ.map(function() {
					var term = $(this).attr("data-define");
					return {
						key: term,
						value: $(this)
					}
				}));
				
				$("div[data-define]").replaceWith("");
			
				var boxes = $("div.box");
				boxes.find("div.title").replaceWith(function() {
					return $(this).contents()
						.wrap("<div style='margin-bottom:15px; font-style:italic'></div>")
						.parent();
				});
				
				replaceMentions(boxes, definitions);
			});
		</script>
	</head>

	<body>
		<div data-define="programming environment">
			Here is the definition of a programming environment.
		</div>
		<div data-define="Dynamake">
			<span data-mention="Dynamake">Dynamake</span> is an attempt to envision, design, and implement an interactive code extrinsic <span data-mention="programming environment">programming environment</span>. This environment is to require only little configuration effort before getting the hands dirty.
		</div>
		<div data-define="network usage">
			Here is the definition of using Dynamake across a network.
			<span data-mention="dummy1">Mention of dummy1</span>
		</div>
		<div data-define="dummy1">
			<span data-mention="dummy2">Mention of dummy2</span>
		</div>
		<div data-define="dummy2">
			<span data-mention="dummy1">Mention of dummy1</span>
		</div>
		<div data-define="The program/process dichotomy">
			This dichotomy is concerned with separating programs from processes, where processes are seen as running programs. This separation has implicated <span data-mention="The program/process dichotomy issues">a couple of less-than-good effects</span>.
		</div>
		<div data-define="The program/process dichotomy issues">
			One of the bigger issues with this dichotomy is that it has been propogated through all layers of software and hardware. Especially the popular OS's have taken a big hit on this with heavy weight, and non-scalable, processes where the end-users have become hostages of this phenomena.<div style="clear=both"></div>
			Another issue is that separating programs from their processes has provoked databases to become necessary evils.
		</div>
	
		<h1 align="center">
			Welcome to Dynamake's project page<br>
			<a href="https://github.com/jakobehmsen/dynamake"> hosted on GitHub</a>
		</h1>

		<div class="box">
			<div class="title">What is Dynamake about?</div>
			<div class="content">
			<span data-mention-expand="Dynamake"></span>
			</div>
		</div>

		<div class="box">
			<div class="title">What is Dynamake not about?</div>
			<div class="content">
			There is no aspiration of developing a programming environment for solving every kind of problem. 
			Instead, the environment is developed in an open-ended, experimental, and intuitive manner with a focus on a platform for making software.
			</div>
		</div>

		<div class="box">
			<div class="title">Why was this project started?</div>
			<div class="content">
			There were/are many reasons motivating this project. Lets look at a couple of'em.<div style="clear=both"></div>
			Most popular programming environments seem to dichotomize programs and processes simply by centering around code. What if one attempts to not adopt <span data-mention="The program/process dichotomy">this dichotomy</span>?<div style="clear=both"></div>
			Most popular programming environments are oriented around some sort of text-based, or similarly structered, programming language. What if no language is available at all - how does one program?
			</div>
		</div>

		<div class="box">
			<div class="title">What is the current state of Dynamake?</div>
			<div class="content">
			Dynamake is a rather new project, started April 2014, but some of the envisioned attributes are starting to emerge.
			</div>
		</div>

		<div class="box">
			<div class="title">What about the future of Dynamake?</div>
			<div class="content">
			One of the major works in the horizon is support for <span data-mention="network usage">using Dynamake across a network</span>.
			</div>
		</div>
	</body>
</html>